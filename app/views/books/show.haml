%main.container
  =link_to :back, class: 'general-back-link' do
    %i.fa.fa-long-arrow-left.mr-15
      = t('button.back_to_results')
  .row
    .col-sm-6
      .product-gallery
        .mb-20
          %img.img-responsive{src: "https://www.bramstein.com/static/smashing-book-5-photo-stack.9d5d114e3e.jpg"}
        .images.clearfix
          %a.img-link{href: "#"}
            %img{src: "https://www.smashingmagazine.com/wp-content/uploads/2015/09/smashing-book-5-2-large.jpg"}
          %a.img-link{href: "#"}
            %img{src: "https://www.smashingmagazine.com/wp-content/uploads/2015/09/smashing-book-5-2-large.jpg"}
          %a.img-link{href: "#"}
            %img{src: "https://www.smashingmagazine.com/wp-content/uploads/2015/09/smashing-book-5-2-large.jpg"}
    .col-sm-6
      %h1.mt-res-0= @book.title
      %p.lead.small= authors_list(@book)
      .row
        = form_with url: order_items_path, method: :post, remote: true do |f|
          .col-xs-12.col-md-4
            %p.h1.in-gold-500.mt-10= price_to_euro(@book.price)
          .col-xs-5.col-md-3
            .input-group.general-position
              %a.input-link.quantity-minus{href: "#"}
                %i.fa.fa-minus.line-height-40
              = f.text_field :quantity, value: 1, class: 'form-control quantity-input', id: 'order_item_quantity', min: 1
              %a.input-link.quantity-plus{href: "#"}
                %i.fa.fa-plus.line-height-40
          .col-xs-7.col-md-5
            = f.hidden_field :order_id, value: @current_order.id
            = f.hidden_field :book_id, value: @book.id
            = f.submit t('button.add_to_cart'), class: 'btn btn-default pull-right general-position'
      .general-info-wrap.divider-lg
        %p= t('page.book.show.description')        
        %p.lead.small.line-height-2
          - if @book.description.length > 150
            = truncate(@book.description, length: 150)
            = link_to 'Read More', '#', remote: true, onclick: "$(this).parent().text('#{escape_javascript @book.description}')", class: 'in-gold-500 ml-10'
          - else
            = @book.description
      .general-info-wrap.divider-lg
        .clearfix
          %p.pull-left= t('page.book.show.published_at')
          %p.lead.small.pull-right= @book.published_at
      .general-info-wrap.divider-lg
        .clearfix
          %p.pull-left= t('page.book.show.dimension')
          %p.lead.small.pull-right= @book.dimensions_string
      .general-info-wrap.divider-lg
        .clearfix
          %p.pull-left= t('page.book.show.materials')
          %p.lead.small.pull-right= @book.materials
  .mb-80
    - if @reviews.any?
      %h3.in-gold-500.mb-25= "#{t('review.reviews')} (#{@book.reviews.count})"
      = render 'reviews'
    - if can? :create, Review
      = render 'review_form'
