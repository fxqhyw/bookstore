%main.container
  %h1.general-title-margin Ð¡atalog
  .hidden-xs.clearfix
    .dropdowns.pull-right
      .dropdown.width-240
        %a.dropdown-toggle.lead.small{href: "#", 'data-toggle': "dropdown", role: "button", 'aria-haspopup': "true", 'aria-expanded': "false"}
          Newest first
          %i.fa.fa-angle-down.dropdown-icon.pull-right
        = render 'filter'
    %ul.list-inline.pt-10.mb-25.mr-240
      %li.mr-35
        = link_to catalog_path, class: "filter-link" do
          All
          %span.badge.general-badge= @categories.sum(&:books_count)
      - @categories.each do |category|
        %li.mr-35
          = link_to catalog_path(category: category.id), class: "filter-link" do
            = category.title
            %span.badge.general-badge= category.books_count
  .dropdowns.mb-25.visible-xs
    %p.lead.small.mb-10 Filter by category
    .dropdown
      %a.dropdown-toggle.lead.small{href: "#", 'data-toggle': "dropdown", role: "button", 'aria-haspopup': "true", 'aria-expanded': "false"}
        Newest first
        %i.fa.fa-angle-down.dropdown-icon.pull-right
      %ul.dropdown-menu
        %li
          = link_to "All (#{@categories.sum(&:books_count)})", catalog_path          
        - @categories.each do |category|
          %li
            = link_to "#{category.title} (#{category.books_count})", catalog_path(category: category.id)
    %p.lead.small.mb-10 Sort by
    .dropdown
      %a.dropdown-toggle.lead.small{href: "#", 'data-toggle': "dropdown", role: "button", 'aria-haspopup': "true", 'aria-expanded': "false"}
        Newest first
        %i.fa.fa-angle-down.dropdown-icon.pull-right
      = render 'filter'
  .mb-120#books-container
    = render 'books'
  .text-center#view-more-books-container
    = link_to_next_page @books, 'View More', id: 'view-more-books', class: 'btn btn-primary', remote: true
